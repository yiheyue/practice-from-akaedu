# 深入理解函数

## return 语句

当遇到错误时，可以使用 return 语句提前结束程序。

函数返回一个值，相当于定义一个和返回值类型相同的临时变量，并用 return 后面的表达式来初始化。

函数的返回值不是左值，或者说函数调用表达式不能做左值。

C 语言的传参规则是 Call by Value，返回值也是按值传递的方式传递值。例如`return x;`返回的是 x 的值，而不是变量 x 本身，因为变量 x 马上就要被释放了。

## 增量式开发

开发时，应该先从最小的能运行的部分开始写起，然后慢慢地增加正确的内容。

将大的问题逐渐分解为小的问题，然后将小的问题分解为更小的问题。

函数的分层设计，上层函数调用底层函数。

尽可能复用以前写的代码，避免重复的代码。

## 递归 - Recurse

如果定义一个概念需要用到概念本身，则它的定义是递归的。

操作系统为程序的运行预留了一块栈（Stack）空间，函数调用时就在这个栈空间里分配栈帧（Stack frame），函数返回时就释放栈帧。

Leap of Faith：如果你相信你正在写的递归函数是正确的，并调用它，然后在此基础上写完这个递归函数，那么它就会是正确的，从而值得你相信它正确。

写递归函数时一定要记得写 Base Case。如果忘记了，递归函数将永远调用下去，知道操作系统预留的栈空间耗尽为止（段错误），这称为无穷递归（Infinite recursion）。

递归和循环是等价的。

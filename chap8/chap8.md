# 数组

## 数组的基本概念

数组（Array）也是一种复合数据类型，它由一系列相同类型的元素（Element）组成。

定义一个由 4 个 int 型元素组成的数组 `int count[4];`。

数组名加下标的表达式可以做右值也可以做左值。
```c
count[0] = 7;
count[1] = count[0] * 2;
++count[2];
```

数组下标也可以是表达式，但表达式的值必须是整型的。

数组初始化（未赋初值的元素用 0 来初始化）：
```c
int count[4] = { 3, 2, }; /* 3, 2, 0, 0 */

int count[] = { 1, 2, 3 }; /* array length = 3 */

int count[4] = { [2] = 4 }; /* C99 新特性 0, 0, 4, 0 */
```

通过循环将数组的每个元素一次访问一遍，称为遍历（Traversal）。

数组之间不能相互赋值和初始化，故不能用数组类型作为函数的参数或返回值。

数组类型做右值使用时，自动转换成指向数组首元素的指针。

## 统计随机数

以#号开头的行称为预处理指示（Preprocessing Directive）。

include 和 define 不是 C 语言的关键字。

写代码的时候应该避免硬编码。

## 直方图

设置 Seed，`srand(time(NULL));` 需要引入 `time.h` 头文件。

## 字符串

- 字符串字面值是只读的，做右值时会自动转换成指向首元素的指针。
- 字符串数组可以用一个字符串字面值来初始化。虽然字符串字面值是只读的，但是字符串数组是可读可写的。

定义字符串的最好方式是让编译器计算字符串的长度 `char str[] = "Hello world";`。

## 多维数组

```c
int a[3][2] = { 1, 2, 3, 4, 5, 6 };
```
- 概念模型：
```
a[0][0]  a[0][1]
a[1][0]  a[1][1]
a[2][0]  a[2][1]
```
- 物理模型：
```
a[0][0]  a[0][1]  a[1][0]  a[1][1]  a[2][0]  a[2][1]
```

C 语言的存储方式称为 Row-major。把概念模型一行一行的接起来。

选择正确的数据结构来组织信息称为数据驱动的编程（Data-driven Programming）。
